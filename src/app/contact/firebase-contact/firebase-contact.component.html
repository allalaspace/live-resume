<section class="firebase-contact-container">
    <div class="feedback-container" [ngClass]="feedbackStatus">
        <p class="success">
            <span i18n="contact@@successfulSubmit">Thank you for contacting me, I'll reply to you very soon.</span>
            <fa-icon [icon]="faTimes" class="icon" title="Close" (click)="closeFeedbackMessage()"></fa-icon>
        </p>
        <p class="error">
            <span i18n="contact@@errorSubmit">Sorry, there is an instability, try again later, or contact me via email or social media.</span>
            <fa-icon [icon]="faTimes" class="icon" title="Close" (click)="closeFeedbackMessage()"></fa-icon>
        </p>
    </div>

    <div class="title">
        <h1 i18n="contact@@advancedContactForm">Formulaire de contact avancé</h1>
        <a routerLink="/" class="back-link" i18n="contact@@backToResume">Retour au CV</a>
    </div>

    <div class="form-container" [ngClass]="{'loading': isLoading}">
        <form [formGroup]="contactForm" (ngSubmit)="onSubmit()">
            <div class="form-group">
                <label for="name" i18n="contact@@name">Your name:</label>
                <input 
                    type="text" 
                    formControlName="name" 
                    [ngClass]="{'is-invalid': submitted && contactFormControl.name.errors}" 
                    i18n-placeholder="contact@@namePlaceholder" 
                    placeholder="Jean Dupont"
                />
                <div class="errors" *ngIf="submitted && contactFormControl.name.errors">
                    <small *ngIf="contactFormControl.name.errors.required" i18n="contact@@requiredNameError">
                        The name is required.
                    </small>
                    <small *ngIf="contactFormControl.name.errors.pattern" i18n="contact@@invalidNameError">
                        Please, provide a valid name.
                    </small>
                </div>
            </div>

            <div class="form-group">
                <label for="email" i18n="contact@@email">Email:</label>
                <input 
                    type="email" 
                    formControlName="email" 
                    [ngClass]="{'is-invalid': submitted && contactFormControl.email.errors}" 
                    i18n-placeholder="contact@@emailPlaceholder" 
                    placeholder="jean.dupont@example.com"
                />
                <div class="errors" *ngIf="submitted && contactFormControl.email.errors">
                    <small *ngIf="contactFormControl.email.errors.required" i18n="contact@@requiredEmailError">
                        The email is required.
                    </small>
                    <small *ngIf="contactFormControl.email.errors.pattern" i18n="contact@@invalidEmailError">
                        Please, provide a valid email address.
                    </small>
                </div>
            </div>

            <div class="form-group">
                <label for="subject" i18n="contact@@subject">Subject (optional):</label>
                <input 
                    type="text" 
                    formControlName="subject" 
                    i18n-placeholder="contact@@subjectPlaceholder" 
                    placeholder="Sujet de votre message"
                />
            </div>

            <div class="form-group">
                <label for="message" i18n="contact@@message">Your message:</label>
                <textarea 
                    formControlName="message" 
                    [ngClass]="{'is-invalid': submitted && contactFormControl.message.errors}" 
                    i18n-placeholder="contact@@messagePlaceholder" 
                    placeholder="Écrivez ici votre message... je vous répondrai bientôt."
                    rows="5"
                ></textarea>
                <div class="errors" *ngIf="submitted && contactFormControl.message.errors">
                    <small *ngIf="contactFormControl.message.errors.required" i18n="contact@@requiredMessageError">
                        The message is required.
                    </small>
                </div>
            </div>

            <button type="submit" i18n="contact@@send">Send</button>
        </form>
    </div>
</section> 